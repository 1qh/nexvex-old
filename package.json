{
  "name": "a",
  "private": true,
  "workspaces": [
    "apps/*",
    "packages/*",
    "tooling/*"
  ],
  "scripts": {
    "build:desktop": "swift build --package-path desktop/blog && swift build --package-path desktop/chat && swift build --package-path desktop/movie && swift build --package-path desktop/org",
    "build:mobile": "swift build --package-path mobile/blog && swift build --package-path mobile/chat && swift build --package-path mobile/movie && swift build --package-path mobile/org",
    "build:ts": "turbo run build",
    "clean": "git clean -xdf node_modules .turbo bun.lock",
    "clean:desktop": "rm -rf desktop/*/.build swift-core/.build",
    "clean:mobile": "rm -rf mobile/*/.build mobile/*/Android/.gradle mobile/*/Android/build mobile/*/Android/app/build ~/Library/Developer/Xcode/DerivedData/Project-*",
    "clean:workspaces": "turbo run clean",
    "codegen:swift": "lazyconvex-codegen-swift --schema packages/be/t.ts --convex packages/be/convex --output swift-core/Sources/ConvexCore/Generated.swift --mobile-output mobile/convex-shared/Sources/ConvexShared/MobileAPI.swift",
    "dev:desktop": "f() { swift run --package-path desktop/$1; }; f",
    "dev:mobile": "f() { open mobile/$1/Project.xcworkspace; }; f",
    "dev:web": "f() { turbo watch dev -F @a/$1 -F @a/be; }; f",
    "fix": "bun format && bun lint:ts:fix && bun format && (O=$(turbo typecheck build --output-logs=errors-only 2>&1) || { echo \"$O\"; false; }) && bun format:swift && bun lint:swift",
    "format": "sort-package-json **/package.json > /dev/null && biome check --fix --diagnostic-level=error > /dev/null",
    "format:check": "sort-package-json --check '**/package.json' && biome ci --diagnostic-level=error",
    "format:swift": "(O=$(swiftformat . 2>&1) || { echo \"$O\"; false; }) && (ktlint --format '**/*.kt' > /dev/null 2>&1 || true) && (O=$(ktlint '**/*.kt' 2>&1) || { echo \"$O\"; false; })",
    "postinstall": "bun lint:ws",
    "lint:swift": "(swiftlint lint --fix > /dev/null 2>&1 || true) && (O=$(swiftlint lint --strict 2>&1) || { echo \"$O\"; false; }) && (O=$(yamllint . 2>&1) || { echo \"$O\"; false; })",
    "lint:ts": "turbo run lint --continue -- --cache --cache-location .cache/.eslintcache && oxlint --quiet",
    "lint:ts:fix": "(O=$(oxlint --fix --fix-suggestions --quiet 2>&1) || { echo \"$O\"; false; }) && (O=$(turbo lint --continue --output-logs=errors-only -- --fix --cache --cache-location .cache/.eslintcache 2>&1) || { echo \"$O\"; false; })",
    "lint:ws": "sherif",
    "test:all": "bash test-all.sh",
    "test:desktop": "bash desktop/test.sh",
    "test:mobile": "bash mobile/maestro/run-all.sh",
    "test:web": "CONVEX_TEST_MODE=true bun --cwd packages/be with-env convex dev --once && bun --cwd packages/be with-env convex env set CONVEX_TEST_MODE true && SKIP_CONVEX_ENV_TOGGLE=1 turbo run test --filter=lazyconvex --filter=@a/be && SKIP_CONVEX_ENV_TOGGLE=1 turbo run test --filter=@a/movie && SKIP_CONVEX_ENV_TOGGLE=1 turbo run test --filter=@a/blog && SKIP_CONVEX_ENV_TOGGLE=1 turbo run test --filter=@a/chat && SKIP_CONVEX_ENV_TOGGLE=1 turbo run test --filter=@a/org; EXIT=$?; bun --cwd packages/be with-env convex env remove CONVEX_TEST_MODE; exit $EXIT",
    "tsc": "turbo run typecheck"
  },
  "devDependencies": {
    "@biomejs/biome": "latest",
    "@types/bun": "latest",
    "depcheck": "latest",
    "dotenv-cli": "latest",
    "oxlint": "latest",
    "sherif": "latest",
    "sort-package-json": "latest",
    "ts-unused-exports": "latest",
    "turbo": "latest",
    "typescript": "latest"
  },
  "packageManager": "bun@1.3.9"
}
