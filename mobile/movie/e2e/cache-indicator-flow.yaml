appId: dev.lazyconvex.movie
---
- launchApp
- tapOn: "Fetch"
- assertVisible: "Fetch by ID"

- tapOn: "TMDB ID (e.g. 27205)"
- inputText: "27205"
- tapOn: "Fetch"
- assertVisible:
    text: "Loading..."
    optional: true
- extendedWaitUntil:
    visible: "Inception"
    timeout: 15000
- assertVisible: "Inception"

- extendedWaitUntil:
    visible: "Cache Miss → Fetched"
    timeout: 5000
    optional: true

- swipe:
    direction: DOWN
    duration: 500
- swipe:
    direction: DOWN
    duration: 500

- tapOn: "27205"
- eraseText: 50
- inputText: "27205"
- tapOn: "Fetch"
- extendedWaitUntil:
    visible: "Inception"
    timeout: 15000

- extendedWaitUntil:
    visible: ".*Cache (Hit|Miss → Fetched).*"
    timeout: 15000
    optional: true

- swipe:
    direction: DOWN
    duration: 500
- swipe:
    direction: DOWN
    duration: 500

- tapOn: "27205"
- eraseText: 50
- inputText: "550"
- tapOn: "Fetch"
- extendedWaitUntil:
    visible: "Fight Club"
    timeout: 15000
- assertVisible: "Fight Club"

- extendedWaitUntil:
    visible: "Cache Miss → Fetched"
    timeout: 5000
    optional: true
